# NetProxy 开发指导文档模板

> **说明**: 本文档是 `realized_stepN.md` 的标准模板。
> 生成新的 step 文档时，请参考本模板的结构和格式，将 `{{占位符}}` 替换为实际内容。
>
> **重要**: 本模板仅用于规划和设计指导，不包含具体实现代码。实现代码应直接应用到项目源文件中。

---

# NetProxy Step {{N}}: {{功能名称}}

> **状态**: ⏳ 待开始 | 🚧 进行中 | ✅ 已完成
> **优先级**: P0 (关键) | P1 (重要) | P2 (增强)
> **预计工作量**: {{X}} 天

---

## 1. 概述

### 1.1 背景

{{描述为什么需要这个功能，解决什么问题，当前项目缺少什么能力}}

### 1.2 目标

{{明确本步骤要达成的具体目标，使用可量化的描述}}

- 目标 1: {{具体目标}}
- 目标 2: {{具体目标}}
- 目标 3: {{具体目标}}

### 1.3 前置依赖

{{列出本步骤依赖的已完成步骤或现有模块}}

- [x] Step {{X}}: {{依赖的已完成步骤}}
- [x] 现有模块: `{{模块路径}}` {{模块说明}}

### 1.4 与现有架构的关系

{{说明新功能如何融入现有架构，可使用架构图辅助说明}}

---

## 2. 任务清单

{{将实现拆分为可独立执行的任务，每个任务应该是一个完整的代码变更单元}}

### 2.1 核心实现
- [ ] 任务 1: {{任务描述}}
- [ ] 任务 2: {{任务描述}}
- [ ] 任务 3: {{任务描述}}

### 2.2 配置与集成
- [ ] 任务 4: {{任务描述}}
- [ ] 任务 5: {{任务描述}}

### 2.3 测试与文档
- [ ] 任务 6: {{任务描述}}
- [ ] 任务 7: {{任务描述}}

---

## 3. 技术方案

### 3.1 协议/功能规范

{{描述协议的核心规范或功能的技术规格，包括数据格式、通信流程等}}

### 3.2 核心接口设计

{{描述需要实现的核心接口，包括：}}
- 接口名称和职责
- 主要方法签名说明
- 配置结构字段说明

### 3.3 数据流

{{描述数据处理流程，包括各组件间的交互顺序}}

---

## 4. 实现指导

### 4.1 任务 1: {{任务名称}}

**目标**: {{具体目标}}

**涉及文件**: `{{文件路径}}` (新建/修改)

**实现要点**:
- {{要点1}}
- {{要点2}}
- {{要点3}}

**注意事项**:
- {{重要的实现细节}}
- {{需要避免的坑}}

---

### 4.2 任务 2: {{任务名称}}

**目标**: {{具体目标}}

**涉及文件**: `{{文件路径}}` (新建/修改)

**实现要点**:
- {{要点1}}
- {{要点2}}

---

### 4.3 任务 3: {{任务名称}}

**目标**: {{具体目标}}

**涉及文件**: `{{文件路径}}` (新建/修改)

**实现要点**:
- {{要点1}}
- {{要点2}}

---

## 5. 涉及文件清单

| 文件路径 | 操作 | 说明 |
|----------|------|------|
| `{{文件路径1}}` | 新建 | {{说明}} |
| `{{文件路径2}}` | 新建 | {{说明}} |
| `{{文件路径3}}` | 修改 | {{说明}} |

---

## 6. 依赖库

### 6.1 新增依赖

| 库名 | 版本 | 用途 | License |
|------|------|------|---------|
| `{{库名}}` | {{版本}} | {{用途说明}} | {{License}} |

### 6.2 无新增依赖

{{如果不需要新增依赖，说明使用的现有依赖或标准库}}

---

## 7. 测试方案

### 7.1 单元测试

**测试文件**: `{{测试文件路径}}`

**测试用例**:
- {{测试用例1描述}}
- {{测试用例2描述}}

### 7.2 集成测试

**验证步骤**:
1. {{验证步骤1}}
2. {{验证步骤2}}
3. {{验证步骤3}}

### 7.3 兼容性测试

| {{测试对象}} | 版本 | 预期结果 |
|--------------|------|----------|
| {{对象1}} | {{版本}} | ⏳ 待测试 |
| {{对象2}} | {{版本}} | ⏳ 待测试 |

---

## 8. 完成标准

### 8.1 代码质量
- [ ] 代码编译通过: `go build ./...`
- [ ] 无 lint 错误: `golangci-lint run`
- [ ] 单元测试通过: `go test ./{{测试路径}}/...`

### 8.2 功能验证
- [ ] {{功能验证项1}}
- [ ] {{功能验证项2}}
- [ ] 与现有功能无冲突

### 8.3 文档更新
- [ ] `docs/config.md` 已更新
- [ ] 代码注释完整

---

## 9. 参考资料

- [{{资料名称1}}]({{URL1}})
- [{{资料名称2}}]({{URL2}})

---

## 10. 变更记录

| 日期 | 变更内容 | 状态 |
|------|----------|------|
| {{YYYY-MM-DD}} | 创建文档 | ⏳ 待开始 |
| {{YYYY-MM-DD}} | 完成任务 1-3 | 🚧 进行中 |
| {{YYYY-MM-DD}} | 全部完成 | ✅ 已完成 |
